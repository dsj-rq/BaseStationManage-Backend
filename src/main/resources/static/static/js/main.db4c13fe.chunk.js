(this["webpackJsonpbase-station-manage"]=this["webpackJsonpbase-station-manage"]||[]).push([[0],{321:function(e,t,a){e.exports=a(760)},760:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(5),o=a.n(i),c=a(30),s=a(39),l=a(40),u=a(33),d=a(42),m=a(41),p=(a(93),a(326),a(31)),f=(a(73),a(25)),h=a.n(f),E=(a(204),a(11)),y=a.n(E),b=(a(205),a(43)),g=a.n(b),v=a(202),w=function(e,t){if(t){var a=[];Object.keys(t).forEach((function(e){return a.push(e+"="+t[e])})),-1===e.search(/\?/)?e+="?"+a.join("&"):e+="&"+a.join("&")}return fetch(e,{method:"get",credentials:"include",headers:{accept:"application/json"}}).then((function(e){return e.json()}))},O=function(e,t){return fetch(e,{method:"post",credentials:"include",headers:{"Content-Type":"application/json",accept:"application/json"},body:JSON.stringify(t)})},I="http://localhost:8080/station",S=function(e){return O(I+"/login?username=".concat(e.username,"&password=").concat(e.password),{})},B=function(){return O(I+"/logout",{})},T=function(){return w(I+"/api/v1/user/getCurrentUserInfo",{})},j=function(){return w(I+"/api/v1/user/list",{})},C=function(e){return O(I+"/api/v1/user/addUser",e)},M=function(e){return w(I+"/api/v1/user/deleteUser",e)},_=function(e){return w(I+"/api/v1/user/updateUser",e)},x=function(e,t,a,n,r){t(a).then((function(t){if(t.s&&2001===t.s){if(2001==t.s)return void e({type:"ERROR_NOT_LOGIN",data:1});if(999==t.s)return void e({type:"ERROR_SERVER_EXCEPTION",data:1})}e({type:r,data:t}),n&&n(t)})).catch((function(e){console.log("error",e)}))},U=function(e,t){return function(a){return x(a,B,e,t,"USER_LOGOUT")}},k=function(e,t){return function(a){return x(a,T,e,t,"GET_CURRENT_USER")}},P={labelCol:{span:8},wrapperCol:{span:16}},D={wrapperCol:{offset:8,span:16}},L=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).componentDidMount=function(){},e.onFinish=function(t){var a=Object(u.a)(e);e.props.login(t,(function(e){a.props.history.push("/index")}))},e.onFinishFailed=function(e){console.log("Failed:",e)},e.state={},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"loginPage"},r.a.createElement("div",{className:"sysName"},"\u57fa\u7ad9\u7ba1\u7406\u7cfb\u7edf"),r.a.createElement(y.a,Object.assign({},P,{name:"basic",initialValues:{remember:!0},onFinish:this.onFinish,onFinishFailed:this.onFinishFailed,size:"large"}),r.a.createElement(y.a.Item,{label:"\u7528\u6237\u540d",name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!"}]},r.a.createElement(g.a,null)),r.a.createElement(y.a.Item,{label:"\u5bc6\u7801",name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}]},r.a.createElement(g.a.Password,null)),r.a.createElement(y.a.Item,D,r.a.createElement(h.a,{type:"primary",htmlType:"submit"},"\u63d0\u4ea4"))))}}]),a}(r.a.Component),A=Object(v.c)(Object(p.b)((function(e){return Object(c.a)({},e)}),(function(e){return{login:function(t,a){var n,r;e((n=t,r=a,function(e){return x(e,S,n,r,"USER_LOGIN")}))}}}))(L)),N=(a(163),a(49)),R=a.n(N),G="http://localhost:8080/station/api/v1/baseStation",F=function(e){return w(G+"/statisticByProvince",e)},V=function(e){return w(G+"/statisticByType",e)},z=function(e){return w(G+"/statisticByPrecision",e)},q=function(e){return w(G+"/statisticByMnc",e)},W=function(e){return w(G+"/statisticByDate",e)},H=function(e){return O(G+"/insertBaseStation",e)},X=function(e){return w(G+"/getListByBounds",e)},Y=(a(497),a(92)),Z=a.n(Y),J=(a(242),a(35)),K=a.n(J),$=(a(500),a(201)),Q=a.n($),ee=(a(502),a(200)),te=a.n(ee),ae=(a(517),a(138)),ne=a.n(ae),re=(a(519),a(199)),ie=a.n(re),oe=a(770),ce=a(771),se=a(772),le=a(773),ue=a(13),de=a.n(ue),me=(a(582),a(598),a(607),a(618),a(629),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.renderDate()},e.renderDate=function(){var t=Object(u.a)(e);e.props.statisticByDate({},(function(e){var a=e.data,n=t.getXyData(a,"update_date","cnt");t.renderBar("\u57fa\u7ad9\u6570\u636e\u65f6\u95f4\u7edf\u8ba1","dateTrend",n.x,n.y,"\u6570\u91cf")})),e.props.statisticByProvince({},(function(a){var n=a.data.sort((function(e,t){return e.cnt-t.cnt})),r=t.getXyData(n,"province","cnt");e.renderAreaStatic("\u533a\u57df\u7edf\u8ba1","areaStat",r.x,r.y,"\u6570\u91cf")})),e.props.statisticByType({},(function(a){var n=a.data,r=t.getXyData(n,"type","cnt");e.setState({staTypeData:r}),e.props.statisticByMnc({},(function(a){var n=a.data,r=t.getXyData(n,"mnc","cnt");e.setState({staMncData:r}),e.props.statisticByPrecision({},(function(a){var n=a.data,r=t.getXyData(n,"precision","cnt");e.setState({staPrecisionData:r}),setTimeout((function(){var t=e.state,a=t.staTypeData,n=t.staMncData,r=t.staPrecisionData;e.renderPie("typePie",a,n,r)}),500)}))}))}))},e.getXyData=function(e,t,a){var n=[],r=[];return e.map((function(e){n.push(e[t]),r.push(e[a])})),{x:n,y:r}},e.renderAreaStatic=function(e,t,a,n,r){de.a.init(document.getElementById(t)).setOption({title:{text:e},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"2%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:a},series:[{name:r,type:"bar",data:n}]})},e.renderBar=function(e,t,a,n,r){de.a.init(document.getElementById(t)).setOption({title:{text:e},tooltip:{},xAxis:{data:a},yAxis:{},series:[{name:r,type:"bar",itemStyle:{color:new de.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}])},emphasis:{itemStyle:{color:new de.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#2378f7"},{offset:.7,color:"#2378f7"},{offset:1,color:"#83bff6"}])}},data:n},{name:r,type:"line",data:n}]})},e.renderPie=function(e,t,a,n){function r(e){var t=[];return e.x.map((function(a,n){t.push({value:e.y[n],name:a})})),t}var i=["50%","40%"];de.a.init(document.getElementById(e)).setOption({title:[{text:"\u5404\u7ef4\u5ea6\u7edf\u8ba1"},{subtext:"\u57fa\u7ad9\u7c7b\u578b\u7edf\u8ba1",left:"16.67%",top:"60%",textAlign:"center"},{subtext:"\u6240\u5c5e\u8fd0\u8425\u5546\u7edf\u8ba1",left:"50%",top:"60%",textAlign:"center"},{subtext:"\u4f5c\u7528\u8303\u56f4\u7edf\u8ba1",left:"83.33%",top:"60%",textAlign:"center"}],tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"\u57fa\u7ad9\u7c7b\u578b\u7edf\u8ba1",type:"pie",radius:"55%",center:i,data:r(t),animation:!1,label:{show:!1},left:0,right:"66.6667%",top:0,bottom:0},{name:"\u6240\u5c5e\u8fd0\u8425\u5546\u7edf\u8ba1",type:"pie",radius:"55%",center:i,data:r(a),animation:!1,label:{show:!1},left:"33.3333%",right:"33.3333%",top:0,bottom:0},{name:"\u4f5c\u7528\u8303\u56f4\u7edf\u8ba1",type:"pie",radius:"55%",center:i,data:r(n),animation:!1,label:{show:!1},left:"66.6667%",right:0,top:0,bottom:0}]})},e.state={timeData:{},staTypeData:{},staMncData:{},staPrecisionData:{}},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state;e.staTypeData,e.staMncData,e.staPrecisionData;return r.a.createElement("div",{className:"dataReport"},r.a.createElement("div",{style:{height:330},className:"echarts-div",id:"areaStat"}),r.a.createElement("div",{className:"echarts-div",id:"dateTrend"}),r.a.createElement("div",{style:{height:200},className:"echarts-div",id:"typePie"}))}}]),a}(r.a.Component)),pe=Object(v.c)(Object(p.b)((function(e){return Object(c.a)({},e)}),(function(e){return{statisticByDate:function(t,a){var n,r;e((n=t,r=a,function(e){return x(e,W,n,r,"STATISTIC_BY_DATE")}))},statisticByType:function(t,a){var n,r;e((n=t,r=a,function(e){return x(e,V,n,r,"STATISTIC_BY_TYPE")}))},statisticByMnc:function(t,a){var n,r;e((n=t,r=a,function(e){return x(e,q,n,r,"STATISTIC_BY_MNC")}))},statisticByPrecision:function(t,a){var n,r;e((n=t,r=a,function(e){return x(e,z,n,r,"STATISTIC_BY_PRECISION")}))},statisticByProvince:function(t,a){var n,r;e((n=t,r=a,function(e){return x(e,F,n,r,"STATISTIC_BY_PROVINCE")}))}}}))(me)),fe={labelCol:{span:8},wrapperCol:{span:12}},he={wrapperCol:{offset:8,span:16}},Ee=ie.a.TabPane,ye={"00":"\u79fb\u52a8","01":"\u8054\u901a",11:"\u7535\u4fe1"},be=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.updateUserList()},e.updateUserList=function(){e.props.getUserList({},(function(t){var a=t.data;e.setState({userList:a||[]})}))},e.handleAdd=function(){e.setState({addUserModal:!0})},e.logout=function(){e.props.logout({},(function(){}))},e.addUserFunc=function(t){var a=e.state.userList,n=!0;a.map((function(e){e.account==t.username.trim()&&(n=!1)})),n?(e.props.addUser(t,(function(t){e.updateUserList()})),e.setState({addUserModal:!1})):R.a.error("\u7528\u6237\u540d\u5df2\u5b58\u5728\uff01")},e.handleAddStation=function(){e.setState({addStationModal:!0})},e.addStationFunc=function(t){t.mnc||(t.mnc="00"),t.type||(t.type="2G"),t.mcc="460",t.olng=t.lng,t.olat=t.lat;var a=window.BMap,n=new Date;t.updateDate=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate(),e.props.addStation(t,(function(n){setTimeout((function(){e.props.map.panTo(new a.Point(t.lng,t.lat)),setTimeout((function(){e.props.showStationByMapView()}),500)}),1500),e.setState({addStationModal:!1})}))},e.state={userList:[],menuList:[],addUserModal:!1,addStationModal:!1},e}return Object(l.a)(a,[{key:"updateUserInfo",value:function(e,t,a){var n=this;1!=e?this.props.updateUser({id:e,key:t,val:a},(function(){n.updateUserList()})):R.a.error("\u8d85\u7ea7\u7ba1\u7406\u5458\u4fe1\u606f\u4e0d\u53ef\u7f16\u8f91\uff01")}},{key:"render",value:function(){var e=this,t=this.props,a=t.stationList,n=t.width,i=t.currentUser,o=this.state,c=o.userList,s=o.addUserModal,l=o.addStationModal,u=[{title:"\u79fb\u52a8\u8bbe\u5907\u56fd\u5bb6\u4ee3\u7801",dataIndex:"mcc",key:"mcc",fixed:"left",width:100,render:function(){return"\u4e2d\u56fd"}},{title:"\u79fb\u52a8\u8bbe\u5907\u7f51\u7edc\u4ee3\u7801",dataIndex:"mnc",key:"mnc",fixed:"left",width:100,render:function(e){return ye[e]||"\u672a\u77e5"}},{title:"\u5c0f\u533aID",dataIndex:"cell",key:"cell",width:100},{title:"\u8986\u76d6\u8303\u56f4",dataIndex:"precision",key:"precision",width:100,render:function(e){return"".concat(e,"\u7c73")}},{title:"\u57fa\u7ad9\u5730\u5740",dataIndex:"address",key:"address",width:500},{title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",width:100,render:function(e,t){return r.a.createElement(h.a,{size:"small",danger:!0},"\u5220\u9664")}}],d=[{title:"\u7528\u6237\u540d",dataIndex:"username",key:"username",fixed:"left",width:100},{title:"\u8d26\u53f7",dataIndex:"account",key:"account",fixed:"left",width:100},{title:"\u5bc6\u7801",dataIndex:"password",key:"password",width:80,render:function(){return r.a.createElement(oe.a,null)}},{title:"\u662f\u5426\u662f\u7ba1\u7406\u5458",dataIndex:"roleId",key:"roleId",width:100,render:function(t,a){return r.a.createElement(ne.a,{size:"small",checked:1==t,onClick:function(t){e.updateUserInfo(a.id,"admin",t)}})}},{title:"\u662f\u5426\u542f\u7528",dataIndex:"enabled",key:"enabled",width:100,render:function(t,a){return r.a.createElement(ne.a,{size:"small",checked:t,onClick:function(t){e.updateUserInfo(a.id,"enabled",t?1:0)}})}},{title:"\u662f\u5426\u9501\u5b9a",dataIndex:"accountNonLocked",key:"accountNonLocked",width:100,render:function(t,a){return r.a.createElement(ne.a,{size:"small",checked:!t,onClick:function(t){e.updateUserInfo(a.id,"account_not_locked",t?0:1)}})}},{title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",width:100,render:function(t,a){return r.a.createElement(h.a,{onClick:function(){1!=a.id?e.props.deleteUser({userId:a.id},(function(){e.updateUserList()})):R.a.error("\u8d85\u7ea7\u7ba1\u7406\u5458\u4fe1\u606f\u4e0d\u53ef\u7f16\u8f91\uff01")},size:"small",danger:!0},"\u5220\u9664")}}],m={size:"small"};return a.map((function(e,t){e.key=t})),r.a.createElement("div",{className:"leftMenu",style:{width:n}},r.a.createElement("div",{className:"title"},"\u57fa\u7ad9\u4fe1\u606f\u7ba1\u7406\u7cfb\u7edf ",r.a.createElement("span",{className:"loginInfo"},"\u5f53\u524d\u767b\u5f55\u7528\u6237:",i&&i.username,r.a.createElement("span",{className:"logoutBtn",onClick:function(){e.logout()}},"[\u9000\u51fa]"))),r.a.createElement(ie.a,{defaultActiveKey:"1",size:"large"},r.a.createElement(Ee,{tab:r.a.createElement("span",null," ",r.a.createElement(ce.a,null)," \u7528\u6237\u7ba1\u7406 "),key:"1"},r.a.createElement(h.a,{onClick:this.handleAdd,type:"primary",style:{marginBottom:16}},"\u6dfb\u52a0"),r.a.createElement(te.a,{pagination:m,rowKey:function(e){return e.id},scroll:{x:460},columns:d,dataSource:c})),r.a.createElement(Ee,{tab:r.a.createElement("span",null," ",r.a.createElement(se.a,null)," \u57fa\u7ad9\u7ba1\u7406 "),key:"3"},r.a.createElement(h.a,{onClick:this.handleAddStation,type:"primary",style:{marginBottom:16}},"\u6dfb\u52a0"),r.a.createElement(te.a,{pagination:m,scroll:{x:460},columns:u,dataSource:a})),r.a.createElement(Ee,{tab:r.a.createElement("span",null," ",r.a.createElement(le.a,null)," \u6570\u636e\u62a5\u8868 "),key:"4"},r.a.createElement(pe,null))),r.a.createElement(Q.a,{footer:null,width:"500px",visible:s,onCancel:function(){e.setState({addUserModal:!1})},title:"\u6dfb\u52a0\u7528\u6237"},r.a.createElement(y.a,Object.assign({},fe,{name:"basic",initialValues:{remember:!0},onFinish:this.addUserFunc,size:"large"}),r.a.createElement(y.a.Item,{label:"\u59d3\u540d",name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u59d3\u540d!"}]},r.a.createElement(g.a,null)),r.a.createElement(y.a.Item,{label:"\u7528\u6237\u540d",name:"account",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!"}]},r.a.createElement(g.a,null)),r.a.createElement(y.a.Item,{label:"\u5bc6\u7801",name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}]},r.a.createElement(g.a,null)),r.a.createElement(y.a.Item,he,r.a.createElement(h.a,{type:"primary",htmlType:"submit"},"\u786e\u8ba4")))),r.a.createElement(Q.a,{footer:null,width:"500px",visible:l,onCancel:function(){e.setState({addStationModal:!1})},title:"\u6dfb\u52a0\u57fa\u7ad9"},r.a.createElement(y.a,Object.assign({},fe,{name:"basicaaa",initialValues:{remember:!0},onFinish:this.addStationFunc,size:"large"}),r.a.createElement(y.a.Item,{label:"\u79fb\u52a8\u8bbe\u5907\u56fd\u5bb6\u4ee3\u7801",name:"mcc"},r.a.createElement(g.a,{value:"460",defaultValue:"460",disabled:!0})),r.a.createElement(y.a.Item,{label:"\u79fb\u52a8\u8bbe\u5907\u7f51\u7edc\u4ee3\u7801",name:"mnc"},r.a.createElement(K.a.Group,{defaultValue:"00"},r.a.createElement(K.a.Button,{value:"00"},"\u79fb\u52a8"),r.a.createElement(K.a.Button,{value:"01"},"\u8054\u901a"),r.a.createElement(K.a.Button,{value:"11"},"\u7535\u4fe1"))),r.a.createElement(y.a.Item,{label:"LAC",name:"lac"},r.a.createElement(Z.a,null)),r.a.createElement(y.a.Item,{label:"\u5c0f\u533aID",name:"cell"},r.a.createElement(Z.a,null)),r.a.createElement(y.a.Item,{label:"\u7ecf\u5ea6",name:"lng",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7ecf\u5ea6!"}]},r.a.createElement(Z.a,null)),r.a.createElement(y.a.Item,{label:"\u7eac\u5ea6",name:"lat",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7eac\u5ea6!"}]},r.a.createElement(Z.a,null)),r.a.createElement(y.a.Item,{label:"\u8986\u76d6\u8303\u56f4",name:"precision",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8986\u76d6\u8303\u56f4!"}]},r.a.createElement(Z.a,null)),r.a.createElement(y.a.Item,{label:"\u5730\u5740",name:"address",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5730\u5740!"}]},r.a.createElement(g.a,null)),r.a.createElement(y.a.Item,{label:"\u5f52\u5c5e\u57ce\u5e02",name:"province",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5f52\u5c5e\u57ce\u5e02!"}]},r.a.createElement(g.a,null)),r.a.createElement(y.a.Item,{label:"\u57fa\u7ad9\u7c7b\u578b",name:"mnc"},r.a.createElement(K.a.Group,{defaultValue:"2G"},r.a.createElement(K.a.Button,{value:"2G"},"2G"),r.a.createElement(K.a.Button,{value:"3G"},"3G"),r.a.createElement(K.a.Button,{value:"4G"},"4G"))),r.a.createElement(y.a.Item,he,r.a.createElement(h.a,{type:"primary",htmlType:"submit"},"\u786e\u8ba4")))))}}]),a}(r.a.Component),ge=Object(p.b)((function(e){return Object(c.a)({},e)}),(function(e){return{getUserList:function(t,a){var n,r;e((n=t,r=a,function(e){return x(e,j,n,r,"GET_USER_LIST")}))},addUser:function(t,a){var n,r;e((n=t,r=a,function(e){return x(e,C,n,r,"ADD_USER")}))},updateUser:function(t,a){var n,r;e((n=t,r=a,function(e){return x(e,_,n,r,"UPDATE_USER")}))},logout:function(t,a){e(U(t,a))},deleteUser:function(t,a){var n,r;e((n=t,r=a,function(e){return x(e,M,n,r,"DELETE_USER")}))},addStation:function(t,a){var n,r;e((n=t,r=a,function(e){return x(e,H,n,r,"ADD_STATION")}))}}}))(be),ve=window.mapConst,we=ve.BMAP_POINT_SHAPE_STAR,Oe=(ve.BMAP_POINT_SHAPE_WATERDROP,ve.BMAP_POINT_SHAPE_RHOMBUS,ve.BMAP_ANCHOR_TOP_LEFT),Ie=ve.BMAP_ANCHOR_BOTTOM_LEFT,Se=ve.BMAP_POINT_SIZE_BIGGER,Be=[],Te=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).componentDidMount=function(){var t=window.BMap,a=Object(u.a)(e);e.map=new t.Map("allmap"),e.map.centerAndZoom(new t.Point(116.404,39.915),12),e.map.enableScrollWheelZoom();var n=new t.Size(10,20),r=new t.NavigationControl({anchor:Ie});e.map.addControl(r),e.map.addControl(new t.CityListControl({anchor:Oe,offset:n,onChangeAfter:function(){a.showStationByMapView()}})),e.bindMapEvent(),e.showStationByMapView(),e.props.getCurrentUserInfo({},(function(t){var a=t.data;e.setState({currentUser:a})}))},e.bindMapEvent=function(){e.map.addEventListener("dragend",(function(){e.showStationByMapView()})),e.map.addEventListener("zoomend",(function(t){console.log("e.target.getZoom()",t.target.getZoom()),t.target.getZoom()>=12?e.setState({showPrecision:!0}):e.setState({showPrecision:!1}),e.showStationByMapView()}))},e.showStationByMapView=function(){e.props.getListByBounds(e.getMapBounds(),(function(t){t.data&&0!=t.data.length||R.a.warn("\u5f53\u524d\u5730\u56fe\u89c6\u91ce\u5185\u65e0\u57fa\u7ad9\u6570\u636e\uff01"),e.setState({stationList:t.data||[]})}))},e.getMapBounds=function(){var t=e.map.getBounds(),a=t.getSouthWest(),n=t.getNorthEast();return{minLon:a.lng,maxLon:n.lng,minLat:a.lat,maxLat:n.lat}},e.renderMarker=function(t,a){if(!t||0==t.length)return"";var n=window.BMap,r=Object(u.a)(e),i=[];e.map.clearOverlays(),t.map((function(t){var r=new n.Point(t.olng,t.olat);if(r.station=t,i.push(r),a){var o=e.map.addOverlay(new n.Circle(r,t.precision,{fillColor:"#ffeb3b",strokeWeight:1,fillOpacity:.3,strokeOpacity:.3,enableEditing:!1}));Be.push(o)}}));var o={shape:we,size:Se,color:"red"},c=new n.PointCollection(i,o),s={width:300,height:200,title:"\u57fa\u7ad9\u4fe1\u606f"};return c.addEventListener("click",(function(e){var t=e.point.station,a="<pre>\u57fa\u7ad9\u5730\u5740:".concat(t.address,"\r\nMCC:").concat(t.mcc,"\r\nMNC:").concat(t.mnc,"\r\nLAT:").concat(t.lac,"\r\nCI:").concat(t.cell,"\r\n\u8986\u76d6\u8303\u56f4:").concat(t.precision,"\u7c73\r\n\u57fa\u7ad9\u7c7b\u578b:").concat(t.type,"\r\n\n      </pre>"),i=new n.InfoWindow(a,s);r.map.openInfoWindow(i,e.point)})),e.map.addOverlay(c),""},e.state={stationList:[],tabWidth:460,currentUser:null,showPrecision:!0},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.stationList,a=e.tabWidth,n=e.currentUser,i=e.showPrecision;return r.a.createElement("div",null,r.a.createElement("div",{id:"allmap",className:"mapDiv",style:{left:a}}),r.a.createElement(ge,{showStationByMapView:this.showStationByMapView,map:this.map,currentUser:n,stationList:t,width:a}),this.renderMarker(t,i))}}]),a}(r.a.Component),je=Object(v.c)(Object(p.b)((function(e){return Object(c.a)({},e)}),(function(e){return{getListByBounds:function(t,a){var n,r;e((n=t,r=a,function(e){return x(e,X,n,r,"GET_LIST_BY_BOUNDS")}))},getCurrentUserInfo:function(t,a){e(k(t,a))},logout:function(t,a){e(U(t,a))}}}))(Te)),Ce=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){Object(u.a)(e);setInterval((function(){e.props.getCurrentUserInfo({},(function(e){}))}),2e3)},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null," ",r.a.createElement("div",{className:"baseManage"},r.a.createElement(v.a,{path:"/login",render:function(e){return r.a.createElement(A,e)}}),r.a.createElement(v.a,{path:"/index",render:function(e){return r.a.createElement(je,e)}}))," ")}}]),a}(r.a.Component),Me=Object(v.c)(Object(p.b)((function(e){return Object(c.a)({},e)}),(function(e){return{getCurrentUserInfo:function(t,a){e(k(t,a))}}}))(Ce));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=a(68),xe=a(320),Ue=(a(754),-1==window.location.href.indexOf("3000")?"http://localhost:8080/station/static/index.html#/login":"http://localhost:3000/#/login"),ke=Object(_e.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERROR_NOT_LOGIN":return window.location.href!=Ue&&(R.a.error("\u8bf7\u5148\u767b\u5f55"),setTimeout((function(){window.location.href=Ue}),1e3)),Object(c.a)({},e,{data:t.data});case"ERROR_SERVER_EXCEPTION":return R.a.error("\u670d\u52a1\u51fa\u73b0\u5f02\u5e38\uff01"),Object(c.a)({},e);default:return e}}}),Pe=a(764).createHashHistory,De=Object(_e.d)(ke,Object(_e.a)(xe.a)),Le=Pe();o.a.render(r.a.createElement(p.a,{store:De},r.a.createElement(v.b,{history:Le},r.a.createElement(v.a,{path:"/",render:function(e){return r.a.createElement(Me,e)}}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},93:function(e,t,a){}},[[321,1,2]]]);
//# sourceMappingURL=main.db4c13fe.chunk.js.map